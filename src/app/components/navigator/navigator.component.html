<!-- Modern, animated, circular floating navbar -->
<div class="modern-navigator">
  <!-- Previous button -->
  <button class="nav-button" *ngIf="currentSectionIndex > 0" (click)="onPrevious()" aria-label="Previous section"
    [matTooltip]="currentLang === 'en' ? 'Previous section' : 'Sezione precedente'" matTooltipPosition="left">
    <mat-icon>arrow_upward</mat-icon>
  </button>

  <!-- Next button -->
  <button class="nav-button" *ngIf="currentSectionIndex < totalSections - 1" (click)="onNext()" aria-label="Next section"
    [matTooltip]="currentLang === 'en' ? 'Next section' : 'Sezione successiva'" matTooltipPosition="left">
    <mat-icon>arrow_downward</mat-icon>
  </button>

  <div class="nav-group">
    <button class="nav-button" (click)="toggleThemeOptions()" aria-label="Theme selector"
      [matTooltip]="currentLang === 'en' ? 'Theme' : 'Tema'" matTooltipPosition="left">
      <mat-icon>palette</mat-icon>
    </button>
    <div class="option-container" *ngIf="showThemeOptions">
      <button class="option-button" (click)="changeTheme('light')" aria-label="Light mode">
        <mat-icon>light_mode</mat-icon>
      </button>
      <button class="option-button" (click)="changeTheme('dark')" aria-label="Dark mode">
        <mat-icon>dark_mode</mat-icon>
      </button>
      <button class="option-button" (click)="changeTheme('blue')" aria-label="Blue mode">
        <mat-icon>water_drop</mat-icon>
      </button>
      <button class="option-button" (click)="changeTheme('green')" aria-label="Green mode">
        <mat-icon>eco</mat-icon>
      </button>
    </div>
  </div>

  <div class="nav-group">
    <button class="nav-button" (click)="toggleLanguageOptions()" [matTooltip]="currentLang === 'en' ? 'Language' : 'Lingua'"
      matTooltipPosition="left">
      <span class="lang-label">{{ currentLang | slice:0:3 | uppercase }}</span>
    </button>
    <div class="option-container" *ngIf="showLanguageOptions">
      <button class="option-button" (click)="changeLanguage('en')" aria-label="English">
        <span class="lang-flag">ðŸ‡¬ðŸ‡§</span>
      </button>
      <button class="option-button" (click)="changeLanguage('it')" aria-label="Italiano">
        <span class="lang-flag">ðŸ‡®ðŸ‡¹</span>
      </button>
      <button class="option-button" (click)="changeLanguage('de')" aria-label="Deutsch">
        <span class="lang-flag">ðŸ‡©ðŸ‡ª</span>
      </button>
      <button class="option-button" (click)="changeLanguage('es')" aria-label="EspaÃ±ol">
        <span class="lang-flag">ðŸ‡ªðŸ‡¸</span>
      </button>
    </div>
  </div>
</div>