<header class="layout__header">
  <div class="layout__topbar">
    <a class="layout__brand" routerLink="/">Mirko Bottazzo</a>

    <button
      type="button"
      class="layout__menu-toggle"
      (click)="toggleMenu()"
      [attr.aria-expanded]="menuOpen"
      aria-controls="primary-navigation"
      aria-label="Toggle navigation"
    >
      <span class="layout__menu-icon" aria-hidden="true">
        <span class="layout__menu-icon-line"></span>
      </span>
    </button>

    <nav
      id="primary-navigation"
      class="layout__nav"
      [class.layout__nav--open]="menuOpen"
      aria-label="Primary"
    >
      <a
        *ngFor="let item of navigationItems; trackBy: trackByRoute"
        [routerLink]="item.route"
        routerLinkActive="layout__link--active"
        [routerLinkActiveOptions]="{ exact: item.exact ?? false }"
        class="layout__link"
        (click)="menuOpen = false"
      >
        {{ item.label }}
      </a>

      <div class="layout__preferences">
        <label class="visually-hidden" for="language-select">{{ languageLabel }}</label>
        <select
          id="language-select"
          class="layout__select"
          [value]="currentLanguage"
          (change)="onSelectLanguage($any($event.target).value)"
        >
          <option *ngFor="let language of languages" [value]="language">
            {{ language | uppercase }}
          </option>
        </select>

        <label class="visually-hidden" for="theme-select">{{ themeLabel }}</label>
        <select
          id="theme-select"
          class="layout__select"
          [value]="currentTheme"
          (change)="onSelectTheme($any($event.target).value)"
        >
          <option *ngFor="let theme of themes" [value]="theme.key">
            {{ theme.label }}
          </option>
        </select>
      </div>
    </nav>
  </div>
</header>

<main class="layout__main">
  <router-outlet></router-outlet>
</main>

<div class="layout__assistant">
  <app-assistant></app-assistant>
</div>
