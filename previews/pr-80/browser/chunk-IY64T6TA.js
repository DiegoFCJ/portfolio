import{a as D}from"./chunk-4GL3FLSM.js";import{a as I}from"./chunk-X7L6DMLB.js";import{a as j}from"./chunk-SKVSCYWV.js";import{$a as g,Gb as w,Ia as b,Ma as x,Mb as T,Pa as a,Qa as c,W as _,_a as m,a as l,b as p,db as y,wa as o,xa as S}from"./chunk-K5XDODCL.js";var M={en:{title:"Statistics",stats:[{icon:"history",label:"Total Hours",value:"0"},{icon:"today",label:"Total Months",value:"0"},{icon:"work",label:"Projects",value:"0"},{icon:"apps",label:"Most Used",value:"Spring Boot, Java, Angular, MYSQL"}]},it:{title:"Statistiche",stats:[{icon:"history",label:"Ore Totali",value:"0"},{icon:"today",label:"Mesi Totali",value:"0"},{icon:"work",label:"Progetti",value:"0"},{icon:"apps",label:"Pi\xF9 Usato",value:"Spring Boot, Java, Angular, MYSQL"}]},de:{title:"Statistiken",stats:[{icon:"history",label:"Gesamtstunden",value:"0"},{icon:"today",label:"Gesamtmonate",value:"0"},{icon:"work",label:"Projekte",value:"0"},{icon:"apps",label:"Meistgenutzt",value:"Spring Boot, Java, Angular, MYSQL"}]},es:{title:"Estad\xEDsticas",stats:[{icon:"history",label:"Horas Totales",value:"0"},{icon:"today",label:"Meses Totales",value:"0"},{icon:"work",label:"Proyectos",value:"0"},{icon:"apps",label:"M\xE1s Usado",value:"Spring Boot, Java, Angular, MYSQL"}]}};function U(r,e){if(r&1&&(a(0,"div",5)(1,"div",6)(2,"div",7)(3,"span",8),m(4),c()(),a(5,"p",9),m(6),c(),a(7,"h2",10),m(8),c()()()),r&2){let t=e.$implicit;o(4),g(t.icon),o(2),g(t.label),o(2),g(t.value)}}var L=class r{constructor(e){this.translationService=e}stats={hours:"",months:"",projects:"",mostUsed:""};statsTitle="";statistics=[];ngOnInit(){this.translationService.currentLanguage$.subscribe(e=>{let t=I.en.experiences,n=D.en.projects;this.statsTitle=M[e].title,this.stats=this.calculateStats(t,n),this.prepareStatistics(e)})}prepareStatistics(e){let t=M[e]?.stats;t?this.statistics=t.map((n,i)=>{switch(i){case 0:return p(l({},n),{value:this.stats.hours});case 1:return p(l({},n),{value:this.stats.months});case 2:return p(l({},n),{value:this.stats.projects});case 3:return p(l({},n),{value:this.stats.mostUsed});default:return n}}):console.error(`Language ${e} not found in statsLabels.`)}calculateStats(e,t){let n=0,i=0,C=t.length,u={},d=e.filter(s=>s.technologies?.trim().length);C+=d.length,d.forEach((s,h)=>{let v=this.calculateMonths(s.startDate,s.endDate);i+=v;let F=v*4,O=40,P=F*O;h===d.length-1&&(P+=O),n+=P,s.technologies.split(", ").map(this.normalizeTechnology).forEach(f=>{u[f]=(u[f]||0)+1})});let k=Object.entries(u).sort(([,s],[,h])=>h-s).slice(0,4).map(([s])=>this.formatTechnology(s));return{hours:`${Math.round(n)}`,months:`${i}`,projects:`${C}`,mostUsed:k.join(", ")}}normalizeTechnology(e){return e.replace(/\([^)]*\)/g,"").replace(/\d+/g,"").trim().toLowerCase()}formatTechnology(e){return e.split(" ").map(t=>t.toUpperCase().includes("SQL")?t.toUpperCase():t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}calculateMonths(e,t){let n=new Date(e),i=new Date(t);return(i.getFullYear()-n.getFullYear())*12+(i.getMonth()-n.getMonth())+1}static \u0275fac=function(t){return new(t||r)(S(j))};static \u0275cmp=_({type:r,selectors:[["app-stats"]],standalone:!0,features:[y],decls:7,vars:2,consts:[[1,"statistics-component"],[1,"statistics-section"],[1,"statistics-container"],[1,"statistics-row"],["class","statistics-card",4,"ngFor","ngForOf"],[1,"statistics-card"],[1,"statistics-content"],[1,"statistics-icon"],["aria-hidden","true",1,"material-symbols-outlined"],[1,"statistics-label"],[1,"statistics-value"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),m(3),c(),a(4,"div",2)(5,"div",3),b(6,U,9,3,"div",4),c()()()()),t&2&&(o(3),g(n.statsTitle),o(3),x("ngForOf",n.statistics))},dependencies:[T,w],styles:['.statistics-component[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]{position:relative}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-container[_ngcontent-%COMP%]{max-width:1320px;margin:0 auto;padding:0 15px}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]{border-radius:8px;padding:20px;text-align:center;flex:1 1 calc(25% - 20px);min-width:250px;transition:transform .3s ease;max-width:300px}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);cursor:pointer}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]{width:100%}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]   .statistics-icon[_ngcontent-%COMP%]{margin-bottom:15px}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]   .statistics-icon[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:7vh;width:100%;height:100%;font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48;display:inline-flex;align-items:center;justify-content:center}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]   .statistics-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:10px}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-card[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]   .statistics-label[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;max-width:100%}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   .statistics-section-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:600;text-align:center;margin-bottom:2rem}.statistics-component[_ngcontent-%COMP%]   .statistics-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:24px}']})};export{L as StatsComponent};
