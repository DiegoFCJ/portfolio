import{a as D}from"./chunk-AXDIOBPN.js";import{M as $}from"./chunk-EFEFSTFQ.js";import{Ab as d,Bc as T,Kb as o,Lb as p,Mb as _,Qb as b,T as x,Va as n,Wa as I,a as g,b as v,da as y,ib as m,j as E,mb as l,ob as h,rb as r,rc as C,sb as s,sc as S,tb as f}from"./chunk-TMFWBCG6.js";function O(t,i){if(t&1&&(r(0,"p",20),o(1),s()),t&2){let e=d().$implicit;n(),p(e.company)}}function P(t,i){if(t&1&&(r(0,"p",21),o(1),s()),t&2){let e=d().$implicit;n(),_(" ",e.technologies," ")}}function L(t,i){if(t&1&&(r(0,"p",22),o(1),s()),t&2){let e=d().$implicit;n(),_(" ",e.responsibilities," ")}}function N(t,i){if(t&1&&(r(0,"li"),o(1),s()),t&2){let e=i.$implicit;n(),p(e)}}function A(t,i){if(t&1&&(r(0,"ul",23),m(1,N,2,1,"li",24),s()),t&2){let e=d().$implicit;n(),l("ngForOf",e.responsibilityItems)}}function M(t,i){if(t&1&&(r(0,"article",8)(1,"div",9),f(2,"span",10),s(),r(3,"div",11)(4,"header",12)(5,"h3",13),o(6),s(),r(7,"span",14),o(8),s()(),m(9,O,2,1,"p",15),r(10,"p",16),o(11),s(),m(12,P,2,1,"p",17)(13,L,2,1,"p",18)(14,A,2,1,"ul",19),s()()),t&2){let e=i.$implicit,a=i.last;n(),h("is-last",a),n(5),p(e.position),n(2),p(e.formattedPeriod),n(),l("ngIf",e.company),n(2),p(e.location),n(),l("ngIf",e.technologies),n(),l("ngIf",e.responsibilities),n(),l("ngIf",e.responsibilityItems==null?null:e.responsibilityItems.length)}}function j(t,i){if(t&1&&(r(0,"section",1)(1,"div",2)(2,"header",3),f(3,"span",4),r(4,"h2",5),o(5),s()(),r(6,"div",6),m(7,M,15,9,"article",7),s()()()),t&2){let e=d();n(5),p(e.experiences.title),n(2),l("ngForOf",e.experiences.experiences)}}var F=class t{constructor(i){this.translationService=i}experiences={title:"",experiences:[]};isLoading=!0;destroy$=new E;static EN_DASH=" \u2013 ";ngOnInit(){this.translationService.currentLanguage$.pipe(x(this.destroy$)).subscribe(()=>{this.isLoading=!0}),this.translationService.getTranslatedData(D).pipe(x(this.destroy$)).subscribe(i=>{this.experiences=this.buildTimeline(i),this.isLoading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}buildTimeline(i){return{title:i.title,experiences:i.experiences.map(e=>v(g({},e),{formattedPeriod:this.formatPeriod(e.startDate,e.endDate),responsibilityItems:this.prepareResponsibilities(e.responsibilityList)}))}}formatPeriod(i,e){let a=(i??"").trim(),c=(e??"").trim();if(!a&&!c)return"";if(!c)return a;let u=/present|presente|current|attuale/i.test(c)?c.charAt(0).toUpperCase()+c.slice(1):c;return a?`${a}${t.EN_DASH}${u}`:u}prepareResponsibilities(i){return(i??[]).map(e=>e.trim()).filter(Boolean)}static \u0275fac=function(e){return new(e||t)(I($))};static \u0275cmp=y({type:t,selectors:[["app-experiences"]],standalone:!0,features:[b],decls:1,vars:1,consts:[["class","experiences-section",4,"ngIf"],[1,"experiences-section"],[1,"experiences-content"],[1,"experiences-header","section-heading"],["aria-hidden","true",1,"statistics-title-accent"],[1,"experiences-title"],["role","list",1,"timeline"],["class","timeline-item","role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"timeline-item"],[1,"timeline-marker"],["aria-hidden","true",1,"timeline-dot"],[1,"timeline-card"],[1,"timeline-header"],[1,"timeline-heading"],[1,"timeline-badge"],["class","timeline-company",4,"ngIf"],[1,"timeline-location"],["class","timeline-technologies",4,"ngIf"],["class","timeline-summary",4,"ngIf"],["class","timeline-responsibilities",4,"ngIf"],[1,"timeline-company"],[1,"timeline-technologies"],[1,"timeline-summary"],[1,"timeline-responsibilities"],[4,"ngFor","ngForOf"]],template:function(e,a){e&1&&m(0,j,8,2,"section",0),e&2&&l("ngIf",!a.isLoading)},dependencies:[T,C,S]})};export{F as a};
