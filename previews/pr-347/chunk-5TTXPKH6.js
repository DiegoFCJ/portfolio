import{a as D}from"./chunk-AXDIOBPN.js";import{r as $}from"./chunk-HD4H6WOH.js";import{Ab as d,Cc as T,Kb as o,Lb as p,Mb as f,Pb as b,T as x,Va as n,Wa as y,a as u,b as g,da as E,ib as m,j as v,mb as l,ob as I,rb as s,sb as r,sc as C,tb as h,tc as S}from"./chunk-M7VV3QGG.js";function O(i,t){if(i&1&&(s(0,"p",18),o(1),r()),i&2){let e=d().$implicit;n(),p(e.company)}}function P(i,t){if(i&1&&(s(0,"p",19),o(1),r()),i&2){let e=d().$implicit;n(),f(" ",e.technologies," ")}}function L(i,t){if(i&1&&(s(0,"p",20),o(1),r()),i&2){let e=d().$implicit;n(),f(" ",e.responsibilities," ")}}function N(i,t){if(i&1&&(s(0,"li"),o(1),r()),i&2){let e=t.$implicit;n(),p(e)}}function A(i,t){if(i&1&&(s(0,"ul",21),m(1,N,2,1,"li",22),r()),i&2){let e=d().$implicit;n(),l("ngForOf",e.responsibilityItems)}}function M(i,t){if(i&1&&(s(0,"article",6)(1,"div",7),h(2,"span",8),r(),s(3,"div",9)(4,"header",10)(5,"h3",11),o(6),r(),s(7,"span",12),o(8),r()(),m(9,O,2,1,"p",13),s(10,"p",14),o(11),r(),m(12,P,2,1,"p",15)(13,L,2,1,"p",16)(14,A,2,1,"ul",17),r()()),i&2){let e=t.$implicit,a=t.last;n(),I("is-last",a),n(5),p(e.position),n(2),p(e.formattedPeriod),n(),l("ngIf",e.company),n(2),p(e.location),n(),l("ngIf",e.technologies),n(),l("ngIf",e.responsibilities),n(),l("ngIf",e.responsibilityItems==null?null:e.responsibilityItems.length)}}function j(i,t){if(i&1&&(s(0,"section",1)(1,"div",2)(2,"h2",3),o(3),r(),s(4,"div",4),m(5,M,15,9,"article",5),r()()()),i&2){let e=d();n(3),p(e.experiences.title),n(2),l("ngForOf",e.experiences.experiences)}}var F=class i{constructor(t){this.translationService=t}experiences={title:"",experiences:[]};isLoading=!0;destroy$=new v;static EN_DASH=" \u2013 ";ngOnInit(){this.translationService.currentLanguage$.pipe(x(this.destroy$)).subscribe(()=>{this.isLoading=!0}),this.translationService.getTranslatedData(D).pipe(x(this.destroy$)).subscribe(t=>{this.experiences=this.buildTimeline(t),this.isLoading=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}buildTimeline(t){return{title:t.title,experiences:t.experiences.map(e=>g(u({},e),{formattedPeriod:this.formatPeriod(e.startDate,e.endDate),responsibilityItems:this.prepareResponsibilities(e.responsibilityList)}))}}formatPeriod(t,e){let a=(t??"").trim(),c=(e??"").trim();if(!a&&!c)return"";if(!c)return a;let _=/present|presente|current|attuale/i.test(c)?c.charAt(0).toUpperCase()+c.slice(1):c;return a?`${a}${i.EN_DASH}${_}`:_}prepareResponsibilities(t){return(t??[]).map(e=>e.trim()).filter(Boolean)}static \u0275fac=function(e){return new(e||i)(y($))};static \u0275cmp=E({type:i,selectors:[["app-experiences"]],standalone:!0,features:[b],decls:1,vars:1,consts:[["class","experiences-section",4,"ngIf"],[1,"experiences-section"],[1,"experiences-content"],[1,"experiences-title"],["role","list",1,"timeline"],["class","timeline-item","role","listitem",4,"ngFor","ngForOf"],["role","listitem",1,"timeline-item"],[1,"timeline-marker"],["aria-hidden","true",1,"timeline-dot"],[1,"timeline-card"],[1,"timeline-header"],[1,"timeline-heading"],[1,"timeline-badge"],["class","timeline-company",4,"ngIf"],[1,"timeline-location"],["class","timeline-technologies",4,"ngIf"],["class","timeline-summary",4,"ngIf"],["class","timeline-responsibilities",4,"ngIf"],[1,"timeline-company"],[1,"timeline-technologies"],[1,"timeline-summary"],[1,"timeline-responsibilities"],[4,"ngFor","ngForOf"]],template:function(e,a){e&1&&m(0,j,6,2,"section",0),e&2&&l("ngIf",!a.isLoading)},dependencies:[T,C,S]})};export{F as a};
